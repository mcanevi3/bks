\chapter{Z ve S tanım bölgesi}
Zaman tanım bölgesinden S tanım gölgesine dönüşüm
\begin{equation}
\begin{split}
    F(s)&=\mathcal{L}\{f(t)\}=\sum_{k=0}^{\infty}f(kT)e^{-kTs}\\
    &=f(0)+f(T)e^{-Ts}+f(2T)e^{-2Ts}+\cdots
\end{split}
\end{equation}
olarak verilmiştir. Zaman tanım bölgesinden Z tanım bölgesine geçiş ise
\begin{equation}
    \begin{split}
        F(z)&=\mathcal{Z}\{f(t)\}=\sum_{k=0}^{\infty}f(kT)z^{-k}\\
        &=f(0)+f(T)z^{-1}+f(2T)z^{-2}+\cdots
    \end{split}
\end{equation}
şeklindedir. S ve Z tanım bölgesi dönüşümlerine dikkat edilirse
\begin{equation}
    \begin{split}
        \mathcal{L}\{f(t)\}&=\sum_{k=0}^{\infty}f(kT)(e^{Ts})^{-k}\\
        \mathcal{Z}\{f(t)\}&=\sum_{k=0}^{\infty}f(kT)z^{-k}
\end{split}
\end{equation}
ifadelerinden
\begin{equation}
    z=e^{sT}
\end{equation}
ilişkisi elde edilir.
Z dönüşümü için çizelge Çizelge~\ref{tbl:ztransform1} ile verilmiştir.
\input{chapter/ztable1}
\begin{enumerate}
\item S dönüşümü
\begin{equation}
    \begin{split}
        \mathcal{L}\{1\}&=\int_{t=0}^{\infty}e^{-st}dt\\
        &=\frac{e^{-st}}{-s}\Bigg|_{t=0}^{\infty}\\
        &=\frac{e^{-s\infty}}{-s}-\frac{1}{-s}\\
        &=-\frac{1}{-s}\\
        &=\frac{1}{s}
    \end{split}
\end{equation}
olarak elde edilir. Z dönüşümü ise
\begin{equation}
    \begin{split}
        \mathcal{Z}\{1\}&=\sum_{t=0}^{\infty}z^{-t}\\
        &=1+z^{-1}+z^{-2}+z^{-3}+\cdots\\
        &=\frac{1}{1-z^{-1}},\quad |z|>1\\
        &=\frac{z}{z-1},\quad |z|>1\\
    \end{split}
\end{equation}
elde edilir.
\item \begin{equation}
    \int udv=uv-\int vdu
\end{equation}
kullanarak $u=t$ ve $dv=e^{-st}dt$ olmak üzere
\begin{equation}
    \begin{split}
        dv&=e^{-st}dt\\
        \int dv&=\int e^{-st}dt\\
        v&=\frac{e^{-st}}{-s}
    \end{split}
\end{equation}
ve dolayısıyla
\begin{equation}
    \begin{split}
        \mathcal{L}\{t\}&=\int_{t=0}^{\infty}t e^{-st}dt\\
        &=t\frac{e^{-st}}{-s}\Bigg|_{t=0}^{\infty}-\int_{t=0}^{\infty}\frac{e^{-st}}{-s}dt\\
        &=t\frac{e^{-st}}{-s}\Bigg|_{t=0}^{\infty}+\frac{1}{s}e^{-st}\Bigg|_{t=0}^{\infty}\\
        &=t\frac{e^{-st}}{-s}\Bigg|_{t=0}^{\infty}+\frac{1}{s^2}\\
        &=\frac{1}{s^2}
    \end{split}
\end{equation}
elde edilir. Z dönüşümü ise
\begin{equation}
    \begin{split}
        \sum_{t=0}^{\infty}t z^{t-1}&=1+2z+3z^2+4z^3+\cdots\\
        &=\frac{1}{(1-z)^2},\quad |z|<1
    \end{split}
\end{equation}
yardımıyla
\begin{equation}
    \begin{split}
        \mathcal{Z}\{t\}&=\sum_{t=0}^{\infty}tT (z^{-1})^{t}\\
        &=Tz^{-1}\sum_{t=0}^{\infty}t (z^{-1})^{t-1}\\
        &=T\frac{z^{-1}}{(1-z^{-1})^2},\quad |z|<1\\
        &=T\frac{\frac{1}{z}}{(1-\frac{1}{z})^2},\quad |z|<1\\
        &=T\frac{\frac{1}{z}}{\frac{(z-1)^2}{z^2}},\quad |z|<1\\
        &=T\frac{z^2}{z(z-1)^2},\quad |z|<1\\
        &=\frac{Tz}{(z-1)^2},\quad |z|<1
    \end{split}
\end{equation}
olarak elde edilir.
\end{enumerate}

\begin{enumerate}
    \item 
    \begin{equation}
        G(s)=\frac{1}{s^2+4s+3}
    \end{equation}
    ile verilen transfer fonksiyonunu kesirler toplamı olarak elde ediniz. Bu durumda
    \begin{equation}
    \begin{split}
        G(s)&=\frac{1}{(s+3)(s+1)}\\
        \frac{1}{(s+3)(s+1)}&=\frac{A}{s+1}+\frac{B}{s+1}\\
        \frac{1}{(s+3)(s+1)}&=\frac{A(s+1)+B(s+3)}{(s+1)(s+3)}\\
        A(s+1)+B(s+3)&=1\\
        As+A+Bs+3B&=1\\
        A+B=0\,&=A+3B=1\\
        A=-B\,&=A+3B=1\\
        -B+3B&=1\\
        2B&=1\\
        B&=\frac{1}{2},\,A=-\frac{1}{2}\\
        G(s)&=-\frac{1}{2}\frac{1}{s+1}+\frac{1}{2}\frac{1}{s+3}
    \end{split}
    \end{equation}
    elde edilir.
    \item \begin{equation}
        G(s)=\frac{1}{s^2+4s+3}
    \end{equation} ile verilen sistemin basamak yanıtını($u(t)=1$) hesaplayınız. Bunun için 
    \begin{equation}
        \begin{split}
            G(s)&=\frac{1}{s^2+4s+3}\\
            \frac{y(s)}{u(s)}&=\frac{1}{s^2+4s+3}\\
            y(s)&=\frac{u(s)}{s^2+4s+3}
        \end{split}
    \end{equation}
    yazılır ve $u(t)=1$ ise Laplace çizelgesinden $u(s)=\frac{1}{s}$ olduğundan
    \begin{equation}
        \begin{split}
            G(s)&=\frac{1}{s^2+4s+3}\\
            \frac{y(s)}{u(s)}&=\frac{1}{s^2+4s+3}\\
            y(s)&=\frac{1}{s(s^2+4s+3)}\\
            y(s)&=\frac{1}{s(s+1)(s+3)}
        \end{split}
    \end{equation}
    dolayısıyla,
    \begin{equation}
        \begin{split}
            y(s)&=\frac{1}{s(s+1)(s+3)}\\
            \frac{1}{s(s+1)(s+3)}&=\frac{A}{s}+\frac{B}{s+1}+\frac{C}{s+3}\\
            \frac{1}{s(s+1)(s+3)}&=\frac{A(s+1)(s+3)+B(s)(s+3)+Cs(s+1)}{s(s+1)(s+3)}\\
            A(s+1)(s+3)+B(s)(s+3)+Cs(s+1)&=1\\
            A(s^2+4s+3)+B(s^2+3s)+C(s^2+s)&=1\\
            As^2+4As+3A+Bs^2+3Bs+Cs^2+Cs&=1\\
            (A+B+C)s^2+(4A+3B+C)s+(3A)&=1
        \end{split}
        \end{equation}
        elde edilir. Bu durumda 
    \begin{equation}
    \begin{split}
        A+B+C&=0\\
        4A+3B+C&=0\\
        3A&=1
    \end{split}
    \end{equation}
    çözülürse 
    \begin{equation}
        \begin{split}
            A&=\frac{1}{3}\\
            B+C&=-\frac{1}{3}\\
            3B+C&=-\frac{4}{3}
        \end{split}
    \end{equation}
    ve sonuç olarak 
    \begin{equation}
        \begin{split}
            y(s)&=\frac{1}{3}\frac{1}{s}-\frac{1}{2}\frac{1}{s+1}+\frac{1}{6}\frac{1}{s+3}\\
            y(t)&=\mathcal{L}^{-1}\left\{
                \frac{1}{3}\frac{1}{s}-\frac{1}{2}\frac{1}{s+1}+\frac{1}{6}\frac{1}{s+3}\right\}\\
            y(t)&=\mathcal{L}^{-1}\left\{
                \frac{1}{3}\frac{1}{s}\right\}
                -\mathcal{L}^{-1}\left\{\frac{1}{2}\frac{1}{s+1}\right\}
                +\mathcal{L}^{-1}\left\{\frac{1}{6}\frac{1}{s+3}
            \right\}\\
            y(t)&=\mathcal{L}^{-1}\frac{1}{3}\left\{
                \frac{1}{s}\right\}
                -\frac{1}{2}\mathcal{L}^{-1}\left\{\frac{1}{s+1}\right\}
                +\frac{1}{6}\mathcal{L}^{-1}\left\{\frac{1}{s+3}
            \right\}\\
            y(t)&=\frac{1}{3}\left\{1\right\}-\frac{1}{2}\left\{e^{-t}\right\}+\frac{1}{6}\left\{e^{-3t}
            \right\}\\
            y(t)&=\frac{1}{3}-\frac{1}{2}\left\{e^{-t}\right\}+\frac{1}{6}\left\{e^{-3t}
            \right\}
        \end{split}
    \end{equation}
    elde edilir. 
    
    \item $sin(t)$ fonksiyonunu sürekli zaman ve ayrık zamanda çizdiriniz.
    \verb|Python| kodu
    \begin{lstlisting}
    import numpy as np
    import matplotlib.pyplot as plt 

    plt.xlabel("Zaman(s)")
    plt.ylabel("sin(t)")
    plt.title("Surekli zaman ayrik zaman karsilastirmasi")

    t=np.arange(0,10,0.01)
    yt=np.sin(t)
    plt.plot(t,yt,'k')

    T=0.5
    t=np.arange(0,10,T)
    yt=np.sin(t)
    plt.stem(t,yt, 'r')
    plt.show()
    \end{lstlisting}
    olarak verilmiştir. Şekil~\ref{fig:lec1_plot1} ile elde edilen grafik verilmiştir.
    \begin{figure}[!htb]
        \centering
        \includegraphics[width=0.5\textwidth]{img/lec1_plot1}
        \caption{$sin(t)$ sürekli zaman ve ayrık zaman karşılaştırması}
        \label{fig:lec1_plot1}
    \end{figure}
    
    \item 
    \begin{equation}
        G(s)=\frac{2}{s^3+4s^2+5s+6}
    \end{equation}
    ifadesini basit kesir toplamına çeviriniz.
    \begin{lstlisting}
    import sympy as sym
    s=sym.Symbol('s')
    Gs=1/(s**3+4*s**2+5*s+6)
    print(sym.apart(Gs))
    \end{lstlisting}
    \item $\int_{t=0}^{\infty} te^{-st}dt$ ifadesini hesaplayınız.
    \begin{lstlisting}
    import sympy as sym
    t, s = sym.symbols('t s', real=True, positive=True)
    integral = sym.integrate(t * sym.exp(-s * t), (t, 0, sym.oo))
    print(integral)
    \end{lstlisting}
\end{enumerate}